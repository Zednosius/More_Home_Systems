#Added Zed
namespace = mhs

event = {
    id = mhs.1
    hide_window = yes
    is_triggered_only = yes

    immediate = {

        every_planet = {
            limit = {
                has_planet_flag = not_ideal_planet
            }
            # Go to the system scope and get the space owner
            # Since the planet is not directly owned we can't use owner = {}
            solar_system = {
                space_owner = {
                    save_event_target_as = target_country
                }
            }
            #Run the scripted effect
            #change_planet_to_not_preferred = yes
            planet_event = { id = mhs.2 }
        }
    }
}
planet_event = {
    id = mhs.2
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        change_planet_to_not_preferred = yes
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
		random_list = {
			35 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_dangerous_wildlife"
				}
			}
			30 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_mountain_range"
				}
			}
			25 = {
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_blocker = "tb_active_volcano"
				}
			}
			10 = {}
		}
    }
}

event = {
	id = mhs.3
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			if = {
				limit = {
					any_owned_planet = {
						has_planet_flag = mhs_delete_this_planet
					}
				}
				country_event = { id = mhs.4 }
			}
			
		}
	}
}

country_event = {
	id = mhs.4
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		IF = {
			limit = {
				any_system_within_border  = {
					any_planet = {
						AND = {
							has_planet_flag = mhs_reiir
							has_planet_flag = mhs_starting_planet
						}
					}
				}
			}
			random_owned_planet = {
				solar_system = {
					random_system_planet = {
						limit = {
							has_planet_flag = mhs_starting_planet
						}
						THIS = {
							save_event_target_as = mhs_starting_planet
						}
						create_colony = {
							owner = ROOT
						}
						random_tile = {
							limit = {
								has_building = yes
							}
							remove_building = yes
						}
						random_tile = {
							limit = { has_blocker = no has_building = no num_adjacent_tiles > 3 }
							set_building = "building_capital_1"
							add_resource = {
								resource = energy
								amount = 1
								replace = yes
							}					
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 2
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 1
									replace = yes
								}							
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_power_plant_1"
								add_resource = {
									resource = energy
									amount = 1
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_mining_network_1"
								add_resource = {
									resource = minerals
									amount = 2
									replace = yes
								}						
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_basic_science_lab_1"
							random_list = {
								33 = { 
									add_resource = {
										resource = engineering_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = physics_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = society_research
										amount = 1
										replace = yes
									}						
								}					
							}					
						}	
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_mining_network_1"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}	
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = engineering_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = society_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = physics_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = food
								amount = 0
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = food
								amount = 0
								replace = yes
							}	
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"	
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
						}	
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
						}	
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = food
								amount = 1
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_power_plant_1"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = energy
								amount = 0
									replace = yes
							}				
						}			
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = energy
								amount = 1
								replace = yes
							}				
						}									
					}
				}
			}
		}
		IF = {
			limit = {
				any_system_within_border  = {
					any_planet = {
						AND = {
							has_planet_flag = mhs_klendathu
							has_planet_flag = mhs_starting_planet
						}
					}
				}
			}
			random_owned_planet = {
				solar_system = {
					random_system_planet = {
						limit = {
							AND = {
								has_planet_flag = mhs_starting_planet
							}
						}
						THIS = {
							save_event_target_as = mhs_starting_planet
						}
						create_colony = {
							owner = ROOT
						}
						random_tile = {
							limit = {
								has_building = yes
							}
							remove_building = yes
						}
						random_tile = {
							limit = { has_blocker = no has_building = no num_adjacent_tiles > 3 }
							set_building = "building_capital_1"
							add_resource = {
								resource = energy
								amount = 1
								replace = yes
							}					
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 2
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 1
									replace = yes
								}							
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_power_plant_1"
								add_resource = {
									resource = energy
									amount = 1
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_mining_network_1"
								add_resource = {
									resource = minerals
									amount = 2
									replace = yes
								}						
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_basic_science_lab_1"
							random_list = {
								33 = { 
									add_resource = {
										resource = engineering_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = physics_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = society_research
										amount = 1
										replace = yes
									}						
								}					
							}					
						}	
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_mining_network_1"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_power_plant_1"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_mhs_asteroid_crater"
							add_resource = {
								resource = engineering_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_mhs_asteroid_crater"
							add_resource = {
								resource = society_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_mhs_asteroid_crater"
							add_resource = {
								resource = physics_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_mhs_asteroid_crater"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_mhs_asteroid_crater"
							add_resource = {
								resource = food
								amount = 1
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							add_resource = {
								resource = energy
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							add_resource = {
								resource = food
								amount = 1
								replace = yes
							}				
						}									
					}
				}
			}
		}
		IF = {
			limit = {
				any_system_within_border  = {
					any_planet = {
						AND = {
							has_planet_flag = mhs_tuchanka
							has_planet_flag = mhs_starting_planet
						}
					}
				}
			}
			random_owned_planet = {
				solar_system = {
					random_system_planet = {
						limit = {
							AND = {
								has_planet_flag = mhs_starting_planet
							}
						}
						THIS = {
							save_event_target_as = mhs_starting_planet
						}
						create_colony = {
							owner = ROOT
						}
						random_tile = {
							limit = {
								has_building = yes
							}
							remove_building = yes
						}
						random_tile = {
							limit = { has_blocker = no has_building = no num_adjacent_tiles > 3 }
							set_building = "building_capital_1"
							add_resource = {
								resource = energy
								amount = 1
								replace = yes
							}					
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 2
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 1
									replace = yes
								}							
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_power_plant_1"
								add_resource = {
									resource = energy
									amount = 1
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_mining_network_1"
								add_resource = {
									resource = minerals
									amount = 2
									replace = yes
								}						
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_basic_science_lab_1"
							random_list = {
								33 = { 
									add_resource = {
										resource = engineering_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = physics_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = society_research
										amount = 1
										replace = yes
									}						
								}					
							}					
						}	
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_mining_network_1"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}			
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = engineering_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = society_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = food
								amount = 2
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_power_plant_1"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_bombarded_land"
							add_resource = {
								resource = physics_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_bomb_crater"
							add_resource = {
								resource = energy
								amount = 1
								replace = yes
							}				
						}									
					}
				}
			}
		}
		IF = {
			limit = {
				any_system_within_border  = {
					any_planet = {
						AND = {
							NOR = {
								has_planet_flag = mhs_tuchanka
								has_planet_flag = mhs_reiir
								has_planet_flag = mhs_klendathu
							}
							has_planet_flag = mhs_starting_planet
						}
					}
				}
			}
			random_owned_planet = {
				solar_system = {
					random_system_planet = {
						limit = {
							AND = {
								has_planet_flag = mhs_starting_planet
							}
						}
						THIS = {
							save_event_target_as = mhs_starting_planet
						}
						create_colony = {
							owner = ROOT
						}
						random_tile = {
							limit = {
								has_building = yes
							}
							remove_building = yes
						}
						random_tile = {
							limit = { has_blocker = no has_building = no num_adjacent_tiles > 3 }
							set_building = "building_capital_1"
							add_resource = {
								resource = energy
								amount = 1
								replace = yes
							}					
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 2
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_hydroponics_farm_1"
								add_resource = {
									resource = food
									amount = 1
									replace = yes
								}							
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_power_plant_1"
								add_resource = {
									resource = energy
									amount = 1
									replace = yes
								}						
							}
							random_neighboring_tile = {
								limit = { has_blocker = no has_building = no }
								set_building = "building_mining_network_1"
								add_resource = {
									resource = minerals
									amount = 2
									replace = yes
								}						
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_basic_science_lab_1"
							random_list = {
								33 = { 
									add_resource = {
										resource = engineering_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = physics_research
										amount = 1
										replace = yes
									}						
								}
								33 = { 
									add_resource = {
										resource = society_research
										amount = 1
										replace = yes
									}						
								}					
							}					
						}	
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_mining_network_1"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}						
						}			
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = engineering_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = society_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_failing_infrastructure"
							add_resource = {
								resource = physics_research
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = food
								amount = 2
								replace = yes
							}					
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_blocker = "tb_decrepit_dwellings"
							add_resource = {
								resource = minerals
								amount = 1
								replace = yes
							}				
						}
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_power_plant_1"
							add_resource = {
								resource = energy
								amount = 2
								replace = yes
							}				
						}	
					}
				}
			}
		}
		every_owned_fleet = {
			set_location = event_target:mhs_starting_planet
		}
		every_owned_planet = {
			limit = {
				has_planet_flag = mhs_delete_this_planet
			}
			destroy_colony = { keep_buildings = no }
			destroy_fleet = spaceport 
			remove_planet = yes
		}
		random_owned_planet = {
			limit = {
				has_planet_flag = mhs_starting_planet
			}
			random_pop = {
				kill_pop = yes
			}
			planet_event = { id = game_start.7 }
			IF = {
				limit = {
					root = {
						has_technology = tech_lasers_1
					}
				}
				create_spaceport = {
					owner = root
					initial_module = "laser_weapon"
				}
			}
			IF = {
				limit = {
					root = {
						has_technology = tech_mass_drivers_1
					}
				}
				create_spaceport = {
					owner = root
					initial_module = "projectile_weapon"
				}
			}
			IF = {
				limit = {
					root = {
						has_technology = tech_missiles_1
					}
				}
				create_spaceport = {
					owner = root
					initial_module = "missile_weapon"
				}
			}
			IF = {
				limit = {
					has_planet_flag = mhs_hades
				}
				set_name = "Hades"
			}
			IF = {
				limit = {
					has_planet_flag = mhs_tuchanka
				}
				set_name = "Tuchanka"
			}
			IF = {
				limit = {
					has_planet_flag = mhs_reiir
				}
				set_name = "Re'iir"
			}
			IF = {
				limit = {
					has_planet_flag = mhs_klendathu
				}
				set_name = "Klendathu"
			}
		}
		create_leader = {
			type = scientist
			sub_type = physics
			name = random
			species = owner_main_species
		}
		create_leader = {
			type = scientist
			sub_type = society
			name = random
			species = owner_main_species
		}
		create_leader = {
			type = scientist
			sub_type = engineering
			name = random
			species = owner_main_species
		}
		every_owned_leader = {
			limit = {
				leader_class = scientist
				OR = {
					is_researching_area = physics
					is_researching_area = society
					is_researching_area = engineering
				}
			}
			kill_leader = { show_notification = no }
		}
		random_owned_ship = {
			limit = {
				is_ship_class = shipclass_constructor
			}
			fleet = {
				destroy_fleet = this
			}
		}
		country_event = { id = mhs.5 days = 3 }
	}
}

country_event = {
	id = mhs.5
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		create_fleet = {
			name = "Constructor"
			effect = {
				set_owner = root

				create_ship = {
					name = random
					random_existing_design = constructor
				}

				set_fleet_stance = evasive				
				set_location = {
					target = event_target:mhs_starting_planet
				}
					distance = 5
					angle = random
				}
				set_event_locked = yes
			}
		}
	}
}